syntax = "proto3";

package bigb_api.v1;

option go_package = "github.com/insp3ctah/grpc-contracts/proto";

service BigBService{
  rpc RegisterUser(RegisterUserRequest) returns (RegisterUserResponse);
  rpc DeleteUser(DeleteUserRequest) returns (DeleteUserResponse);
  rpc UpdateUser(UpdateUserRequest) returns (UpdateUserResponse);
  rpc ReadUser(ReadUserRequest) returns (ReadUserResponse);
  rpc AuthDataCorrect(AuthDataCorrectRequest) returns (AuthDataCorrectResponse);
}

message User{
  string mail_addr = 1;
  string password = 2;
  repeated string tags = 3;
  repeated string filestrings = 4;
}

message RegisterUserRequest{
  string mail_addr = 1;
  string password = 2;
}

message RegisterUserResponse{
  bool done = 1;
}

message DeleteUserRequest{
  int32 id = 1;
}

message DeleteUserResponse{
  bool done = 1;
}

message ReadUserRequest{
  int32 token = 1;
}

message ReadUserResponse{
  User user = 1;
}

message UpdateUserRequest{
  int32 id = 1;
  User user = 2;
}

message UpdateUserResponse{
  bool done = 1;
}

message AuthDataCorrectRequest{
  string mail_addr = 1;
  string password = 2;
}

message AuthDataCorrectResponse{
  bool is_correct = 1;
}



